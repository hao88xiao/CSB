<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:ws="http://jax-ws.dev.java.net/spring/core"
	xmlns:wss="http://jax-ws.dev.java.net/spring/servlet"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/util
		http://www.springframework.org/schema/util/spring-util-2.5.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context-2.5.xsd
 		http://www.springframework.org/schema/aop
		http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
		http://jax-ws.dev.java.net/spring/core 
		http://jax-ws.dev.java.net/spring/core.xsd
		http://jax-ws.dev.java.net/spring/servlet
        http://jax-ws.dev.java.net/spring/servlet.xsd">
        
	<context:annotation-config />
	<context:component-scan base-package="com.linkage.bss.crm.ws" />
	
	<aop:aspectj-autoproxy />
	<!--  后来加上的
	<aop:config proxy-target-class="true"/>  -->

	<import resource="intfManager-spring-all.xml" />
	<import resource="classpath:bss/systemmanager/sys/sys-smClient-spring.xml" />
	<import resource="freemarker-spring.xml" />
	<import resource="listenerConsole-spring.xml"/>

	<wss:binding url="/customer">
		<wss:service>
			<ws:service bean="#customerService"
				impl="com.linkage.bss.crm.ws.service.CustomerService" />
		</wss:service>
	</wss:binding>

	<wss:binding url="/order">
		<wss:service>
			<ws:service bean="#orderService"
				impl="com.linkage.bss.crm.ws.service.OrderService" />
		</wss:service>
	</wss:binding>
	
	<wss:binding url="/crm">
		<wss:service>
			<ws:service bean="#crmService"
				impl="com.linkage.bss.crm.ws.service.CrmService" />
		</wss:service>
	</wss:binding>

	<wss:binding url="/agent">
		<wss:service>
			<ws:service bean="#agentService"
				impl="com.linkage.bss.crm.ws.service.AgentService" />
		</wss:service>
	</wss:binding>

	<wss:binding url="/rsc">
		<wss:service>
			<ws:service bean="#rscService"
				impl="com.linkage.bss.crm.ws.service.RscService" />
		</wss:service>
	</wss:binding>

	<wss:binding url="/sr">
		<wss:service>
			<ws:service bean="#srService"
				impl="com.linkage.bss.crm.ws.service.SRService" />
		</wss:service>
	</wss:binding>

	<wss:binding url="/hb">
		<wss:service>
			<ws:service bean="#hbService"
				impl="com.linkage.bss.crm.ws.service.HBService" />
		</wss:service>
	</wss:binding>

	<bean id="abstractService" abstract="true"
		class="com.linkage.bss.crm.ws.service.AbstractService">
		<property name="mapEngine" ref="mapEngine" />
	</bean>

	<!-- Web service methods -->
	<bean id="customerService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.CustomerService">
		<property name="custBasicSMO" ref="custManager.custBasicSMO" />
		<property name="offerFacade" ref="intfManager.offerFacade" />
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="acctFacade" ref="intfManager.acctFacade" />
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="soQuerySMO" ref="soManager.soQuerySMO" />
		<property name="offerSMO" ref="offerManager.offerSMO" />
		<property name="orderService" ref="orderService" />
		<property name="createCustOrderListFactory" ref="createCustOrderListFactory" />
		<property name="soCommitSMO" ref="soManager.soCommitSMO" />
		<property name="modifyCustomOrderListFactory" ref="modifyCustomOrderListFactory" />
		<property name="soSaveSMO" ref="soManager.soSaveSMO" />
		<property name="smService" ref="smServiceHttp" />
		<property name="billServiceImpl" ref="billService" />
		<property name="spServiceSMO" ref="spService" />
		<property name="storeForOnLineMall" ref="storeClient.StoreForOnLineMall" />
		<property name="chargeManager" ref="charge.chargeManagerSMO" />
		<property name="sysFacade" ref="intfManager.sysFacade" />
		<property name="soBatchFileSMO" ref="soManager.soBatchFileSMO" />
		<property name="csbService" ref="soServiceManager.CSBServiceSMO" />
	</bean>

	<bean id="orderService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.OrderService">
		
		<property name="desensitizationFlowFactory" ref="desensitizationFlowFactory" />
		<property name="commonSMO" ref="crmCommons.commonSMO" />
		<property name="soQuerySMO" ref="soManager.soQuerySMO" />
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="offerSMO" ref="offerManager.offerSMO" />
		<property name="soPrepareSMO" ref="soManager.soPrepareSMO" />
		<property name="soPreOrderSMO" ref="soManager.soPreOrderSMO" />
		<property name="offerFacade" ref="intfManager.offerFacade" />
		<property name="soDetailSMO" ref="soManager.soDetailSMO" />
		<property name="chargeManagerSMO" ref="charge.chargeManagerSMO" />
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="soFacade" ref="intfManager.soFacade" />
		<property name="orderListFactory" ref="orderListFactory" />
		<!--引用crm撤单接口-->
		<property name="csbService" ref="soServiceManager.CSBServiceSMO" />
		<property name="soServiceSMO" ref="soServiceManager.soServiceSMO" />
		 <property name="soServiceImpl" ref="soServiceManager.soService" />
		<property name="offerSpecFacade" ref="intfManager.OfferSpecFacade" />
		<property name="businessServiceOrderListFactory" ref="businessServiceOrderListFactory" />
		<property name="createTransferOwnerListFactory" ref="createTransferOwnerListFactory" />
		<property name="modifyCustomOrderListFactory" ref="modifyCustomOrderListFactory" />
		<property name="acctOrderListFactory" ref="acctOrderListFactory" />
		<property name="rscServiceSMO" ref="resourceClient.rscServiceSMO" />
		<property name="soSavePrepare" ref="soServiceSavePrepare" />
		<property name="soValidateCustOrder" ref="soServiceValidateCustOrder" />
		<property name="offerSpecSMO" ref="offerSpecManager.offerSpecSMO" />
		<property name="srFacade" ref="intfManager.SRFacade" />
		<property name="soBatchSMO" ref="soManager.soBatchSMO" />
		<property name="commonClient" ref="crmCommons.commonClient" />
		<property name="acctSMO" ref="acctManager.acctSMO" />
		<property name="soStoreSMO" ref="soManager.soStoreSMO" />
		<property name="custBasicSMO" ref="custManager.custBasicSMO" />
		<property name="spServiceSMO" ref="spService" />
		<property name="entityServiceSMO" ref="entityService" />
		<property name="soSaveSMO" ref="soManager.soSaveSMO" />
		<property name="soCommitSMO" ref="soManager.soCommitSMO" />
		<property name="voucherPrintSMO" ref="soManager.voucherPrintSMO" />
		<property name="iofferSpecManagerService" ref="soServiceManager.offerSpecManagerSMO" />
		<property name="gjmyService" ref="soServiceManager.gjmyService" />
		 <property name="custManagerSmo" ref="soServiceManager.custManagerSmo" />
		 <property name="createExchangeForProvince" ref="createExchangeForProvince"/>
		 <property name="producerClient" ref="producerClient"/>
			
	</bean>
	
	<bean id="crmService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.CrmService">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="crm2BuildingService" ref="soServiceManager.crm2BuildingService" />
	</bean>

	<bean id="agentService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.AgentService">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="smService" ref="smServiceHttp" />
		<property name="channelSMO" ref="custManager.channelSMO" />
	</bean>

	<bean id="rscService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.RscService">
		<property name="rscServiceSMO" ref="resourceClient.rscServiceSMO" />
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="rmServiceSMO" ref="iRmService" />
		<property name="soQuerySMO" ref="soManager.soQuerySMO" />
		<property name="pointService" ref="soServiceManager.pointService" />
	</bean>

	<bean id="srService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.SRService">
		<property name="soAuditSmo" ref="soManager.soAuditSMO" />
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="srFacade" ref="intfManager.SRFacade" />
		<property name="ticketService" ref="soServiceManager.ticketService" />
		<property name="soFacade" ref="intfManager.soFacade" />
		<property name="orderService" ref="orderService" />
		<property name="soPointSMO" ref="soManager.soPointSMO" />
		<property name="unityPayClient" ref="unityPay" />
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="storeForOnLineMall" ref="storeClient.StoreForOnLineMall" />
		<property name="sysFacade" ref="intfManager.sysFacade" />
		<property name="unityPayService" ref="unityPayService" />
		<property name="pointService" ref="soServiceManager.pointService" />
	</bean>

	<bean id="hbService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.HBService">
		<property name="intfSMO" ref="intfManager.intfSMO" />
	</bean>

	<bean id="unityPayService" parent="abstractService"
		class="com.linkage.bss.crm.ws.service.UnityPayService">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="sysFacade" ref="intfManager.sysFacade" />
		<property name="storeForOnLineMall" ref="storeClient.StoreForOnLineMall" />
		<property name="srFacade" ref="intfManager.SRFacade" />
	</bean>

	<bean id="orderListFactory" class="com.linkage.bss.crm.ws.order.OrderListFactoryImpl">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="offerSpecSMO" ref="offerSpecManager.offerSpecSMO" />
		<property name="offerSMO" ref="offerManager.offerSMO" />
		<property name="rscServiceSMO" ref="resourceClient.rscServiceSMO" />
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="soStoreSMO" ref="soManager.soStoreSMO" />
		<property name="soCommonBMO" ref="soManager.soCommonBMO" />
		<property name="customerService" ref="customerService" />
	</bean>
	<bean id="desensitizationFlowFactory" class="com.linkage.bss.crm.ws.order.DesensitizationFlowFactoryImpl">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		
	</bean>

	<bean id="businessServiceOrderListFactory"
		class="com.linkage.bss.crm.ws.order.BusinessServiceOrderListFactoryImpl">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="offerSpecSMO" ref="offerSpecManager.offerSpecSMO" />
		<property name="offerSMO" ref="offerManager.offerSMO" />
		<property name="rscServiceSMO" ref="resourceClient.rscServiceSMO" />
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="soStoreSMO" ref="soManager.soStoreSMO" />
	</bean>
	
	<bean id="createTransferOwnerListFactory"
		class="com.linkage.bss.crm.ws.order.CreateTransferOwnerListFactoryImpl">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="custFacade" ref="intfManager.custFacade" />
	</bean>

	<bean id="acctOrderListFactory" class="com.linkage.bss.crm.ws.order.AcctOrderListFactoryImpl">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="commonSMO" ref="crmCommons.commonSMO" />
	</bean>

	<bean id="modifyCustomOrderListFactory"
		class="com.linkage.bss.crm.ws.order.ModifyCustomOrderListFactoryImpl">
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="intfSMO" ref="intfManager.intfSMO" />
	</bean>

	<bean id="createCustOrderListFactory"
		class="com.linkage.bss.crm.ws.order.CreateCustOrderListFactoryImpl">
		<property name="custBasicSMO" ref="custManager.custBasicSMO" />
		<property name="commonSMO" ref="crmCommons.commonSMO" />
	</bean>

	<bean id="soServiceSavePrepare" class="com.linkage.bss.crm.ws.order.SoServiceSavePrepareImpl">
		<property name="soServiceBMO">
			<ref bean="soServiceManager.soServiceBMO" />
		</property>
		<property name="soPrepareSMO">
			<ref bean="soManager.soPrepareSMO" />
		</property>
		<property name="soSaveSMO">
			<ref bean="soManager.soSaveSMO" />
		</property>
		<property name="offerSMO">
			<ref bean="offerManager.offerSMO" />
		</property>
		<property name="soSaveBMO">
			<ref bean="soManager.soSaveBMO" />
		</property>
		<property name="commonClient">
			<ref bean="crmCommons.commonClient" />
		</property>
	</bean>

	<bean id="soServiceValidateCustOrder"
		class="com.linkage.bss.crm.ws.order.SoServiceValidateCustOrderImpl">
		<property name="soPrepareSMO">
			<ref bean="soManager.soPrepareSMO" />
		</property>
		<property name="soSaveSMO">
			<ref bean="soManager.soSaveSMO" />
		</property>
		<property name="ruleSMO">
			<ref bean="ruleManager.ruleSMO" />
		</property>
		<property name="intfSMO" ref="intfManager.intfSMO" />
	</bean>
	<!--	<bean id="testCsb" class = "com.linkage.bss.crm.ws.testCSB"> </bean> -->
	
	 <!-- <bean id="CSBtest" class = "com.linkage.bss.crm.ws.CSBTest">
	<property name="intfDAO">
			<ref bean="intfManager.intfDAO" />
		</property>
	</bean>
   -->
   	<bean id="createExchangeForProvince"
		class="com.linkage.bss.crm.ws.order.CreateExchangeForProvinceImpl">
		<property name="intfSMO" ref="intfManager.intfSMO" />
		<property name="offerSpecSMO" ref="offerSpecManager.offerSpecSMO" />
		<property name="offerSMO" ref="offerManager.offerSMO" />
		<property name="rscServiceSMO" ref="resourceClient.rscServiceSMO" />
		<property name="custFacade" ref="intfManager.custFacade" />
		<property name="soStoreSMO" ref="soManager.soStoreSMO" />
	</bean>
   	<bean id="producerClient" class="com.ai.skynet.ProducerClient"></bean> 
</beans>
